<div id="link_<%= @link.id %>" class="p-4 bg-white shadow rounded-lg flex items-center mb-4">
  <div class="flex flex-col items-center mr-4">
    <%= button_to '+', upvote_link_path(@link), method: :post, class: "text-green-500 text-lg" if current_user && !current_user.voted_for?(@link) %>
    <p class="text-gray-700"><%= @link.score %></p>
    <%= button_to '-', downvote_link_path(@link), method: :post, class: "text-red-800 text-lg" if current_user && !current_user.voted_for?(@link) %>
  </div>
  <div>
    <h2 class="text-xl font-semibold"><%= link_to @link.title, @link.url, class: "text-black", target: "_blank" %></h2>
    <p class="text-gray-500"><%= @link.url %></p>
    <p class="text-gray-500">Submitted by <%= link_to @link.user.email, user_path(@link.user)  %></p>
    <p class="text-gray-500">Ranking: <%=  @link.score %> / <%= @link.ranking %> / <%= @link.score * @link.ranking %></p>
  </div>
</div>

<div class="mt-8">
  
  <%= render 'comments/form', link: @link, comment: Comment.new if current_user %>

  <div id="comments" class="mt-4">
    <%= render partial: 'comments/comment', collection: @comments.order(created_at: :desc), as: :comment %>
  </div>
</div>